{% extends "base.html" %}

{% block title %}Result Search and Selection{% endblock %}

{% block head %}
{{ super() }}
    <script type="text/javascript" src="static/scripts/view/content.js"></script>
    <script type="text/javascript" src="static/scripts/view/search_results.js"></script>
    <link rel="stylesheet" type="text/css" href="static/css/loading.css" />
{% endblock %}
{% block content %}
{{content|safe}}
{% endblock %}
{% block info %}
    <h1>Result Search</h1>
    <div class="flexbox">
        <input type="button" class="btn btn-info" value="Find Results" onclick="ResultSearch.search()">
        <input type="button" class="btn btn-success" id="add_filter" value="Add Filter"
            onclick="ResultSearch.add_filter_field()">
        <input type="button" class="btn btn-info" id="invert_selection" value="Invert Selection"
            onclick="ResultSearch.invert_selection()">
        <input type="button" class="btn btn-secondary" id="diagram" value="Visualize" onclick="ResultSearch.make_diagram()">
    </div>
    <ul id="filters" class="list-unstyled">
    </ul>
    <div style="position: relative">
        <table id="result_table" style="width: 100%">
        </table>
        <div class="overlay loading-background loading center-contents" id="loading-icon">
            <div class="lds-ellipsis"><div></div><div></div><div></div><div></div></div>
        </div>
    </div>
    <div class="flexbox">
        <div class="flexbox">
            <input type="button" id="prevpage" class="btn btn-secondary" value="<-" onclick="ResultSearch.prev_page()"
                disabled />
            <select id="pages" class="form-control" onchange="ResultSearch.set_page()">
            </select>
            <input type="button" id="nextpage" class="btn btn-secondary" value="->" onclick="ResultSearch.next_page()" />
        </div>
        <div style="flex-grow: 2"></div>
        <div style="flex-grow: 1" class="flexbox">
            <h5>Results on page:</h5>
            <select id="results_on_page" class="form-control" onchange="ResultSearch.set_results_per_page()">
                <option value="1">1</option>
                <option value="10" selected>10</option>
                <option value="15">15</option>
                <option value="20">20</option>
                <option value="50">50</option>
                <option value="100">100</option>
            </select>
        </div>
    </div>
{% endblock %}
